<!DOCTYPE html>
<html>
<head>
	<title>Reserve a Table</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  	<script src="https://code.jquery.com/jquery.js"></script>
  	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
</head>
<body>
  <div class="container">

    <div class="jumbotron text-center">
      <h1><span class="glyphicon glyphicon-fire"></span> Hot Restaurant</h1>
      <hr>
      <h3>Make your Reservation</h3>
      <br>
      <a href="/tables"><button type="button" class="btn btn-primary btn-lg"><span class="glyphicon glyphicon-list-alt"></span> View Tables</button></a>
      <a href="/"><button type="button" class="btn btn-light btn-lg"><span class="glyphicon glyphicon-home"></span></button></a>
    </div>

	<div class="panel panel-default">
		<div class="panel-heading">
			<h3 class="panel-title">Table Reservation</h3>
		</div>
		<div class="panel-body">
			<form>
				<div class="form-group">
					<label for="name">Name</label>
					<input type="text" class="form-control" id="name">
				</div>
				<div class="form-group">
					<label for="name">Phone Number</label>
					<input type="number" class="form-control" id="phoneNumber">
				</div>
				<div class="form-group">
					<label for="name">Email</label>
					<input type="text" class="form-control" id="email">
				</div>
				<div class="form-group">
					<label for="name">Unique ID</label>
					<input type="text" class="form-control" id="id">
				</div>
				<input class="btn btn-primary" type="submit" value="Submit" id="submitButton">
			</form>
		</div>
	</div>

<div class="footer">
	<div class="container">
		<p>
			<a href="" target="_blank">API Table Link</a>
			|
			<a href="" target="_blank">API Wait List</a>
		</p>
	</div>
</div>

</div>

<script type="text/javascript">


	$('#submitButton').on('click', function(event){
		event.preventDefault();
		var newReservation = {
			newName: $('#name').val().trim(),
			newNumber: $('#phoneNumber').val().trim(),
			newEmail: $('#email').val().trim(),
			newId: $('#id').val().trim()
		}

			$.post('/api/new', newReservation)
				.done(function(data) {
					console.log(data);

				if (data === true) {
					alert("You're booked!")
				} else if (data === false) {
					alert("You're on the wait list")
				};

					$('#name').val('')
					$('#phoneNumber').val('')
					$('#email').val('')
					$('#id').val('')

				});

	});


</script>

</body>
</html>